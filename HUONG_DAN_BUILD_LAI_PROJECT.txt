================================================================================
H∆Ø·ªöNG D·∫™N BUILD L·∫†I PROJECT TR√äN M√ÅY M·ªöI
================================================================================
D·ª± √°n: Data Warehouse Fresh (Data Lakehouse)
Ng√†y t·∫°o: $(date)
T√°c gi·∫£: Truong An

================================================================================
PH·∫¶N 1: Y√äU C·∫¶U H·ªÜ TH·ªêNG
================================================================================

1. H·ªÜ ƒêI·ªÄU H√ÄNH:
   - macOS (Apple Silicon ho·∫∑c Intel)
   - Linux (Ubuntu 20.04+, CentOS 7+)
   - Windows v·ªõi WSL2

2. PH·∫¶N M·ªÄM C·∫¶N THI·∫æT:
   - Docker: 20.10+ (b·∫Øt bu·ªôc)
   - Docker Compose: 2.0+ (b·∫Øt bu·ªôc)
   - Git: ƒê·ªÉ clone repository (n·∫øu c√≥)

3. T√ÄI NGUY√äN H·ªÜ TH·ªêNG:
   - RAM: T·ªëi thi·ªÉu 8GB (khuy·∫øn ngh·ªã 16GB)
   - Disk Space: T·ªëi thi·ªÉu 20GB tr·ªëng
   - CPU: T·ªëi thi·ªÉu 4 cores (khuy·∫øn ngh·ªã 8 cores)

4. KI·ªÇM TRA TR∆Ø·ªöC KHI B·∫ÆT ƒê·∫¶U:
   ```bash
   # Ki·ªÉm tra Docker
   docker --version
   # K·∫øt qu·∫£ mong ƒë·ª£i: Docker version 20.10.x ho·∫∑c cao h∆°n
   
   # Ki·ªÉm tra Docker Compose
   docker compose version
   # HO·∫∂C
   docker-compose --version
   # K·∫øt qu·∫£ mong ƒë·ª£i: Docker Compose version 2.x.x
   
   # Ki·ªÉm tra ki·∫øn tr√∫c m√°y (quan tr·ªçng cho Metabase)
   uname -m
   # K·∫øt qu·∫£:
   # - arm64: Apple Silicon (M1/M2/M3) ‚Üí D√πng platform: linux/arm64
   # - x86_64: Intel Mac ho·∫∑c Linux ‚Üí D√πng platform: linux/amd64
   
   # Ki·ªÉm tra disk space
   df -h .
   # ƒê·∫£m b·∫£o c√≥ √≠t nh·∫•t 20GB tr·ªëng
   ```

================================================================================
PH·∫¶N 2: CHU·∫®N B·ªä D·ªÆ LI·ªÜU
================================================================================

1. DATASET BRAZILIAN E-COMMERCE:
   - URL: https://www.kaggle.com/datasets/olistbr/brazilian-ecommerce
   - T·∫£i v·ªÅ v√† gi·∫£i n√©n v√†o th∆∞ m·ª•c: brazilian-ecommerce/
   - C√°c file CSV c·∫ßn c√≥:
     * olist_customers_dataset.csv
     * olist_geolocation_dataset.csv
     * olist_order_items_dataset.csv
     * olist_order_payments_dataset.csv
     * olist_order_reviews_dataset.csv
     * olist_orders_dataset.csv
     * olist_products_dataset.csv
     * olist_sellers_dataset.csv
     * product_category_name_translation.csv

2. C·∫§U TR√öC TH∆Ø M·ª§C:
   ```
   Data_Warehouse_Fresh/
   ‚îú‚îÄ‚îÄ brazilian-ecommerce/          # Dataset CSV files (9 files)
   ‚îú‚îÄ‚îÄ jars/                          # JAR dependencies (s·∫Ω t·ª± ƒë·ªông t·∫£i)
   ‚îú‚îÄ‚îÄ scripts/                       # Scripts h·ªó tr·ª£
   ‚îú‚îÄ‚îÄ docker-compose.yaml            # C·∫•u h√¨nh services
   ‚îú‚îÄ‚îÄ env.example                    # Template environment variables
   ‚îú‚îÄ‚îÄ .env                           # File c·∫•u h√¨nh (t·∫°o t·ª´ env.example)
   ‚îî‚îÄ‚îÄ ... (c√°c th∆∞ m·ª•c kh√°c)
   ```

================================================================================
PH·∫¶N 3: C√ÅC B∆Ø·ªöC BUILD L·∫†I PROJECT
================================================================================

B∆Ø·ªöC 1: CLONE HO·∫∂C COPY PROJECT
---------------------------------
N·∫øu c√≥ Git repository:
```bash
git clone <repository-url>
cd Data_Warehouse_Fresh
```

N·∫øu copy t·ª´ m√°y c≈©:
```bash
# Copy to√†n b·ªô th∆∞ m·ª•c project
# ƒê·∫£m b·∫£o gi·ªØ nguy√™n c·∫•u tr√∫c th∆∞ m·ª•c
```

B∆Ø·ªöC 2: KI·ªÇM TRA V√Ä T·∫†O FILE .ENV
----------------------------------
```bash
# Ki·ªÉm tra xem ƒë√£ c√≥ file .env ch∆∞a
ls -la .env

# N·∫øu ch∆∞a c√≥, t·∫°o t·ª´ template
cp env.example .env

# Ch·ªânh s·ª≠a file .env (quan tr·ªçng!)
nano .env
# HO·∫∂C
vim .env
# HO·∫∂C
code .env
```

C√°c bi·∫øn m√¥i tr∆∞·ªùng QUAN TR·ªåNG c·∫ßn c·∫•u h√¨nh:
- GOOGLE_API_KEY: API key c·ªßa Google Gemini (cho Chat Service)
  * L·∫•y t·∫°i: https://makersuite.google.com/app/apikey
  * N·∫øu kh√¥ng c√≥, Chat Service s·∫Ω kh√¥ng ho·∫°t ƒë·ªông

C√°c bi·∫øn kh√°c c√≥ th·ªÉ gi·ªØ m·∫∑c ƒë·ªãnh (ƒë√£ ƒë∆∞·ª£c c·∫•u h√¨nh s·∫µn):
- MYSQL_ROOT_PASSWORD=admin123
- MINIO_ROOT_USER=minio
- MINIO_ROOT_PASSWORD=minio123
- ... (xem env.example ƒë·ªÉ bi·∫øt th√™m)

B∆Ø·ªöC 3: T·∫¢I JAR DEPENDENCIES
------------------------------
```bash
# ƒê·∫£m b·∫£o script c√≥ quy·ªÅn th·ª±c thi
chmod +x scripts/download_jars.sh

# Ch·∫°y script t·∫£i JARs
bash scripts/download_jars.sh
```

Script n√†y s·∫Ω t·∫£i v·ªÅ 5 JAR files v√†o th∆∞ m·ª•c jars/:
1. mysql-connector-j-8.0.33.jar
2. delta-core_2.12-2.3.0.jar
3. delta-storage-2.3.0.jar
4. hadoop-aws-3.3.2.jar
5. aws-java-sdk-bundle-1.11.1026.jar

Ki·ªÉm tra sau khi t·∫£i:
```bash
ls -lh jars/
# Ph·∫£i c√≥ 5 file .jar
```

B∆Ø·ªöC 4: KI·ªÇM TRA PLATFORM V√Ä C·∫§U H√åNH METABASE
------------------------------------------------
Quan tr·ªçng: Metabase c·∫ßn c·∫•u h√¨nh ƒë√∫ng platform ƒë·ªÉ tr√°nh l·ªói SIGSEGV!

```bash
# Ki·ªÉm tra ki·∫øn tr√∫c m√°y
uname -m
```

N·∫øu k·∫øt qu·∫£ l√†:
- arm64 (Apple Silicon): 
  ‚Üí Ki·ªÉm tra docker-compose.yaml, d√≤ng metabase ph·∫£i c√≥:
     platform: linux/arm64
  
- x86_64 (Intel):
  ‚Üí Ki·ªÉm tra docker-compose.yaml, d√≤ng metabase ph·∫£i c√≥:
     platform: linux/amd64
  ‚Üí HO·∫∂C c√≥ th·ªÉ b·ªè d√≤ng platform (m·∫∑c ƒë·ªãnh s·∫Ω d√πng amd64)

Ki·ªÉm tra c·∫•u h√¨nh:
```bash
grep -A 5 "metabase:" docker-compose.yaml
```

B∆Ø·ªöC 5: BUILD DOCKER IMAGES
----------------------------
```bash
# C√°ch 1: Build t·∫•t c·∫£ images (khuy·∫øn ngh·ªã cho l·∫ßn ƒë·∫ßu)
docker compose build --no-cache

# C√°ch 2: Build t·ª´ng service (n·∫øu g·∫∑p l·ªói)
docker compose build --no-cache hive-metastore
docker compose build --no-cache etl_pipeline
docker compose build --no-cache streamlit
docker compose build --no-cache chat_service
docker compose build --no-cache dagster
```

L∆∞u √Ω:
- L·∫ßn ƒë·∫ßu build s·∫Ω m·∫•t 10-15 ph√∫t
- C√≥ th·ªÉ g·∫∑p l·ªói network khi t·∫£i dependencies, th·ª≠ l·∫°i
- N·∫øu build fail, ki·ªÉm tra logs:
  docker compose build --progress=plain <service_name>

B∆Ø·ªöC 6: KH·ªûI ƒê·ªòNG SERVICES
----------------------------
C√°ch 1: Kh·ªüi ƒë·ªông t·∫•t c·∫£ c√πng l√∫c (khuy·∫øn ngh·ªã)
```bash
docker compose up -d
```

C√°ch 2: Kh·ªüi ƒë·ªông theo t·ª´ng giai ƒëo·∫°n (an to√†n h∆°n)
```bash
# Giai ƒëo·∫°n 1: Base services
docker compose up -d de_mysql minio mc hive-metastore
sleep 30

# Giai ƒëo·∫°n 2: Spark cluster
docker compose up -d spark-master spark-worker-1
sleep 15

# Giai ƒëo·∫°n 3: ETL v√† Dagster
docker compose up -d etl_pipeline de_dagster de_dagster_dagit de_dagster_daemon
sleep 20

# Giai ƒëo·∫°n 4: C√°c services c√≤n l·∫°i
docker compose up -d trino metabase streamlit qdrant chat_service
sleep 20
```

B∆Ø·ªöC 7: KI·ªÇM TRA TR·∫†NG TH√ÅI SERVICES
-------------------------------------
```bash
# Xem tr·∫°ng th√°i t·∫•t c·∫£ services
docker compose ps

# Ki·ªÉm tra logs n·∫øu c√≥ service kh√¥ng ch·∫°y
docker compose logs <service_name>

# Ki·ªÉm tra health check
docker compose ps --format "table {{.Name}}\t{{.Status}}"
```

Services c·∫ßn ki·ªÉm tra:
- ‚úÖ de_mysql: Ph·∫£i healthy
- ‚úÖ hive-metastore: Ph·∫£i healthy
- ‚úÖ minio: Ph·∫£i healthy
- ‚úÖ metabase: Ph·∫£i healthy (kh√¥ng c√≥ SIGSEGV)
- ‚úÖ trino: Ph·∫£i healthy
- ‚úÖ streamlit: Ph·∫£i healthy
- ‚úÖ chat_service: Ph·∫£i healthy

B∆Ø·ªöC 8: LOAD DATASET V√ÄO MYSQL
-------------------------------
```bash
# Ki·ªÉm tra dataset ƒë√£ c√≥ ch∆∞a
ls brazilian-ecommerce/*.csv

# N·∫øu ch∆∞a c√≥, t·∫£i v·ªÅ t·ª´ Kaggle v√† ƒë·∫∑t v√†o th∆∞ m·ª•c brazilian-ecommerce/

# Ch·ªù MySQL s·∫µn s√†ng (30 gi√¢y)
sleep 30

# Copy dataset v√†o MySQL container
docker cp brazilian-ecommerce/ de_mysql:/tmp/dataset/

# Copy SQL scripts
docker cp load_dataset_into_mysql/01_olist.sql de_mysql:/tmp/olist.sql
docker cp load_dataset_into_mysql/03_load_data.sql de_mysql:/tmp/load_data.sql

# T·∫°o database schema
docker exec de_mysql mysql -uroot -padmin123 -e "SET GLOBAL local_infile=1;"
docker exec de_mysql mysql -uroot -padmin123 -e "CREATE DATABASE IF NOT EXISTS brazillian_ecommerce;"
docker exec de_mysql bash -c "mysql -uroot -padmin123 brazillian_ecommerce < /tmp/olist.sql"

# Load CSV data (m·∫•t 2-3 ph√∫t)
docker exec de_mysql bash -c "mysql -uroot -padmin123 --local-infile=1 brazillian_ecommerce < /tmp/load_data.sql"

# Ki·ªÉm tra d·ªØ li·ªáu ƒë√£ load
docker exec de_mysql mysql -uroot -padmin123 -e "SELECT COUNT(*) FROM brazillian_ecommerce.customers;"
docker exec de_mysql mysql -uroot -padmin123 -e "SELECT COUNT(*) FROM brazillian_ecommerce.orders;"
```

B∆Ø·ªöC 9: CH·∫†Y ETL PIPELINE
--------------------------
```bash
# Ch·ªù Dagster s·∫µn s√†ng (15 gi√¢y)
sleep 15

# Ch·∫°y ETL job
docker exec etl_pipeline dagster job execute -m etl_pipeline -j reload_data

# Ki·ªÉm tra k·∫øt qu·∫£
docker exec trino trino --execute "SHOW SCHEMAS FROM lakehouse;"
```

B∆Ø·ªöC 10: X√ÅC MINH H·ªÜ TH·ªêNG
---------------------------
```bash
# 1. Ki·ªÉm tra t·∫•t c·∫£ services ƒëang ch·∫°y
docker compose ps

# 2. Ki·ªÉm tra c√°c URL c√≥ th·ªÉ truy c·∫≠p:
# - Streamlit: http://localhost:8501
# - Dagster UI: http://localhost:3001
# - Metabase: http://localhost:3000
# - Trino: http://localhost:8082
# - Spark Master: http://localhost:8080
# - MinIO Console: http://localhost:9001 (minio/minio123)
# - Chat Service: http://localhost:8001

# 3. Test Chat Service
curl http://localhost:8001/healthz

# 4. Ki·ªÉm tra Trino c√≥ th·ªÉ query
docker exec trino trino --execute "SELECT COUNT(*) FROM lakehouse.gold.fact_order;"
```

================================================================================
PH·∫¶N 4: S·ª¨ D·ª§NG SCRIPT T·ª∞ ƒê·ªòNG (KHUY·∫æN NGH·ªä)
================================================================================

Thay v√¨ l√†m th·ªß c√¥ng, b·∫°n c√≥ th·ªÉ d√πng script t·ª± ƒë·ªông:

C√ÅCH 1: QUICK SETUP (Cho ng∆∞·ªùi m·ªõi)
-----------------------------------
```bash
# ƒê·∫£m b·∫£o script c√≥ quy·ªÅn th·ª±c thi
chmod +x setup.sh

# Ch·∫°y quick setup
./setup.sh
```

Script n√†y s·∫Ω:
- Ki·ªÉm tra y√™u c·∫ßu h·ªá th·ªëng
- T·∫°o file .env
- T·∫£i JAR dependencies
- Build Docker images
- Kh·ªüi ƒë·ªông services
- Load dataset v√† ch·∫°y ETL

C√ÅCH 2: FULL SETUP (Cho ng∆∞·ªùi c√≥ kinh nghi·ªám)
-----------------------------------------------
```bash
# ƒê·∫£m b·∫£o script c√≥ quy·ªÅn th·ª±c thi
chmod +x full_setup.sh

# Fresh install (x√≥a volumes c≈©, build l·∫°i t·ª´ ƒë·∫ßu)
./full_setup.sh --fresh

# Rebuild images (gi·ªØ data)
./full_setup.sh --rebuild

# Ch·ªâ ch·∫°y ETL (ƒë√£ c√≥ data)
./full_setup.sh --etl
```

================================================================================
PH·∫¶N 5: X·ª¨ L√ù L·ªñI TH∆Ø·ªúNG G·∫∂P
================================================================================

L·ªñI 1: Metabase b·ªã SIGSEGV (Segmentation Fault)
------------------------------------------------
Nguy√™n nh√¢n: Ch·∫°y sai platform (amd64 tr√™n Apple Silicon ho·∫∑c ng∆∞·ª£c l·∫°i)

Gi·∫£i ph√°p:
1. Ki·ªÉm tra ki·∫øn tr√∫c m√°y: uname -m
2. S·ª≠a docker-compose.yaml:
   - Apple Silicon (arm64): platform: linux/arm64
   - Intel (x86_64): platform: linux/amd64 ho·∫∑c b·ªè d√≤ng platform
3. Rebuild v√† restart:
   ```bash
   docker compose stop metabase
   docker compose rm -f metabase
   docker compose up -d metabase
   ```

L·ªñI 2: MC (MinIO Client) b√°o l·ªói "config is not a recognized command"
----------------------------------------------------------------------
Nguy√™n nh√¢n: Syntax c≈© kh√¥ng c√≤n ƒë∆∞·ª£c h·ªó tr·ª£

Gi·∫£i ph√°p:
1. Ki·ªÉm tra docker-compose.yaml, service mc ph·∫£i d√πng:
   mc alias set minio http://minio:9000 minio minio123
   (KH√îNG ph·∫£i: mc config host add)

2. Restart service:
   ```bash
   docker compose restart mc
   ```

L·ªñI 3: Services kh√¥ng start ho·∫∑c crash ngay
---------------------------------------------
Nguy√™n nh√¢n: Thi·∫øu dependencies, port conflict, ho·∫∑c thi·∫øu resources

Gi·∫£i ph√°p:
1. Ki·ªÉm tra logs:
   ```bash
   docker compose logs <service_name>
   ```

2. Ki·ªÉm tra port ƒëang ƒë∆∞·ª£c s·ª≠ d·ª•ng:
   ```bash
   # macOS/Linux
   lsof -i :3000
   lsof -i :8080
   # Windows
   netstat -ano | findstr :3000
   ```

3. Ki·ªÉm tra disk space:
   ```bash
   df -h .
   ```

4. Ki·ªÉm tra RAM:
   ```bash
   # macOS
   vm_stat
   # Linux
   free -h
   ```

L·ªñI 4: ETL Pipeline fails
---------------------------
Nguy√™n nh√¢n: MySQL ch∆∞a s·∫µn s√†ng, thi·∫øu data, ho·∫∑c Spark kh√¥ng k·∫øt n·ªëi ƒë∆∞·ª£c

Gi·∫£i ph√°p:
1. Ki·ªÉm tra MySQL:
   ```bash
   docker exec de_mysql mysql -uroot -padmin123 -e "SHOW DATABASES;"
   docker exec de_mysql mysql -uroot -padmin123 -e "SELECT COUNT(*) FROM brazillian_ecommerce.customers;"
   ```

2. Ki·ªÉm tra Spark:
   ```bash
   curl http://localhost:8080
   ```

3. Ki·ªÉm tra MinIO:
   ```bash
   curl http://localhost:9000/minio/health/live
   ```

4. Ch·∫°y l·∫°i ETL:
   ```bash
   docker exec etl_pipeline dagster job execute -m etl_pipeline -j reload_data
   ```

L·ªñI 5: Chat Service kh√¥ng ho·∫°t ƒë·ªông
------------------------------------
Nguy√™n nh√¢n: Thi·∫øu GOOGLE_API_KEY ho·∫∑c API key kh√¥ng h·ª£p l·ªá

Gi·∫£i ph√°p:
1. Ki·ªÉm tra .env c√≥ GOOGLE_API_KEY:
   ```bash
   grep GOOGLE_API_KEY .env
   ```

2. C·∫≠p nh·∫≠t API key:
   ```bash
   # S·ª≠a .env v√† th√™m GOOGLE_API_KEY=your_key_here
   ```

3. Restart service:
   ```bash
   docker compose restart chat_service
   ```

L·ªñI 6: JAR files kh√¥ng t·∫£i ƒë∆∞·ª£c
---------------------------------
Nguy√™n nh√¢n: Network issue ho·∫∑c Maven repository kh√¥ng accessible

Gi·∫£i ph√°p:
1. Ch·∫°y l·∫°i script:
   ```bash
   bash scripts/download_jars.sh
   ```

2. T·∫£i th·ªß c√¥ng t·ª´ browser v√† ƒë·∫∑t v√†o th∆∞ m·ª•c jars/

3. Ki·ªÉm tra URLs trong script download_jars.sh v·∫´n c√≤n valid

L·ªñI 7: Docker build fails
---------------------------
Nguy√™n nh√¢n: Network timeout, thi·∫øu dependencies, ho·∫∑c Dockerfile l·ªói

Gi·∫£i ph√°p:
1. Build v·ªõi progress ƒë·ªÉ xem l·ªói chi ti·∫øt:
   ```bash
   docker compose build --progress=plain <service_name>
   ```

2. Build t·ª´ng service ri√™ng ƒë·ªÉ t√¨m service b·ªã l·ªói:
   ```bash
   docker compose build --no-cache hive-metastore
   docker compose build --no-cache etl_pipeline
   ```

3. Ki·ªÉm tra Dockerfile c√≥ syntax ƒë√∫ng kh√¥ng

4. Th·ª≠ build v·ªõi network mode host (n·∫øu c√≥ v·∫•n ƒë·ªÅ network):
   ```bash
   docker compose build --network=host <service_name>
   ```

================================================================================
PH·∫¶N 6: C√ÅC L·ªÜNH H·ªÆU √çCH
================================================================================

KI·ªÇM TRA TR·∫†NG TH√ÅI:
---------------------
```bash
# Xem t·∫•t c·∫£ services
docker compose ps

# Xem logs real-time
docker compose logs -f

# Xem logs c·ªßa service c·ª• th·ªÉ
docker compose logs -f <service_name>

# Ki·ªÉm tra health
docker compose ps --format "table {{.Name}}\t{{.Status}}"
```

QU·∫¢N L√ù SERVICES:
-----------------
```bash
# D·ª´ng t·∫•t c·∫£
docker compose down

# D·ª´ng v√† x√≥a volumes (m·∫•t data!)
docker compose down -v

# Restart service
docker compose restart <service_name>

# Rebuild v√† restart
docker compose up -d --build <service_name>

# Xem resource usage
docker stats
```

TROUBLESHOOTING:
----------------
```bash
# V√†o trong container
docker exec -it <container_name> bash

# Ki·ªÉm tra network
docker network inspect data_warehouse_fresh_de_network

# Ki·ªÉm tra volumes
docker volume ls

# X√≥a container v√† image c≈©
docker compose down
docker system prune -a
```

BACKUP V√Ä RESTORE:
------------------
```bash
# Backup MySQL data
docker exec de_mysql mysqldump -uroot -padmin123 --all-databases > backup.sql

# Backup MinIO data
docker exec minio mc mirror minio/lakehouse ./backup_minio/

# Restore MySQL
docker exec -i de_mysql mysql -uroot -padmin123 < backup.sql
```

================================================================================
PH·∫¶N 7: KI·ªÇM TRA SAU KHI BUILD
================================================================================

CHECKLIST:
----------
‚òê T·∫•t c·∫£ services ƒëang ch·∫°y (docker compose ps)
‚òê MySQL healthy v√† c√≥ data
‚òê MinIO healthy v√† c√≥ bucket lakehouse
‚òê Hive Metastore healthy
‚òê Spark Master accessible t·∫°i http://localhost:8080
‚òê Trino healthy v√† c√≥ th·ªÉ query
‚òê Metabase healthy (kh√¥ng c√≥ SIGSEGV)
‚òê Streamlit accessible t·∫°i http://localhost:8501
‚òê Dagster UI accessible t·∫°i http://localhost:3001
‚òê Chat Service healthy (n·∫øu c√≥ GOOGLE_API_KEY)
‚òê ETL pipeline ƒë√£ ch·∫°y th√†nh c√¥ng
‚òê C√≥ data trong lakehouse (bronze, silver, gold, platinum schemas)

KI·ªÇM TRA T·ª™NG SERVICE:
-----------------------
```bash
# 1. MySQL
docker exec de_mysql mysql -uroot -padmin123 -e "SHOW DATABASES;"

# 2. MinIO
curl http://localhost:9000/minio/health/live

# 3. Hive Metastore
curl http://localhost:9083

# 4. Spark
curl http://localhost:8080

# 5. Trino
docker exec trino trino --execute "SHOW CATALOGS;"

# 6. Metabase
curl http://localhost:3000/api/health

# 7. Streamlit
curl http://localhost:8501/_stcore/health

# 8. Dagster
curl http://localhost:3001

# 9. Chat Service
curl http://localhost:8001/healthz

# 10. ETL - Ki·ªÉm tra data
docker exec trino trino --execute "SHOW SCHEMAS FROM lakehouse;"
docker exec trino trino --execute "SELECT COUNT(*) FROM lakehouse.gold.fact_order;"
```

================================================================================
PH·∫¶N 8: L∆ØU √ù QUAN TR·ªåNG
================================================================================

1. PLATFORM SPECIFIC:
   - Apple Silicon (M1/M2/M3): Ph·∫£i d√πng platform: linux/arm64 cho Metabase
   - Intel Mac/Linux: C√≥ th·ªÉ d√πng platform: linux/amd64 ho·∫∑c b·ªè d√≤ng platform
   - Windows WSL2: T∆∞∆°ng t·ª± Linux

2. ENVIRONMENT VARIABLES:
   - File .env PH·∫¢I t·ªìn t·∫°i (t·∫°o t·ª´ env.example)
   - GOOGLE_API_KEY l√† b·∫Øt bu·ªôc cho Chat Service
   - C√°c password m·∫∑c ƒë·ªãnh c√≥ th·ªÉ ƒë·ªïi trong production

3. DATASET:
   - Dataset Brazilian E-commerce PH·∫¢I c√≥ trong th∆∞ m·ª•c brazilian-ecommerce/
   - N·∫øu kh√¥ng c√≥ dataset, ETL s·∫Ω kh√¥ng ch·∫°y ƒë∆∞·ª£c
   - Dataset c√≥ th·ªÉ t·∫£i t·ª´ Kaggle

4. JAR DEPENDENCIES:
   - 5 JAR files PH·∫¢I c√≥ trong th∆∞ m·ª•c jars/
   - Script download_jars.sh s·∫Ω t·ª± ƒë·ªông t·∫£i
   - N·∫øu t·∫£i th·∫•t b·∫°i, c√≥ th·ªÉ t·∫£i th·ªß c√¥ng

5. DISK SPACE:
   - C·∫ßn √≠t nh·∫•t 20GB tr·ªëng
   - Docker images v√† volumes s·∫Ω chi·∫øm nhi·ªÅu dung l∆∞·ª£ng
   - C√≥ th·ªÉ cleanup: docker system prune -a

6. NETWORK:
   - C√°c services giao ti·∫øp qua Docker network: de_network
   - Ports tr√™n host: 3000, 3001, 3306, 4000, 6333, 7077, 8001, 8080, 8081, 8082, 8501, 9000, 9001, 9083
   - ƒê·∫£m b·∫£o c√°c ports n√†y kh√¥ng b·ªã conflict

7. FIRST TIME SETUP:
   - L·∫ßn ƒë·∫ßu build s·∫Ω m·∫•t 10-15 ph√∫t
   - ETL l·∫ßn ƒë·∫ßu s·∫Ω m·∫•t 5-10 ph√∫t
   - Services c·∫ßn th·ªùi gian ƒë·ªÉ kh·ªüi ƒë·ªông (1-2 ph√∫t)

8. TROUBLESHOOTING:
   - Lu√¥n ki·ªÉm tra logs khi c√≥ l·ªói: docker compose logs <service>
   - Ki·ªÉm tra disk space v√† RAM n·∫øu services crash
   - Ki·ªÉm tra network connectivity gi·ªØa containers

================================================================================
PH·∫¶N 9: LI√äN H·ªÜ V√Ä H·ªñ TR·ª¢
================================================================================

N·∫øu g·∫∑p v·∫•n ƒë·ªÅ kh√¥ng gi·∫£i quy·∫øt ƒë∆∞·ª£c:
1. Ki·ªÉm tra logs: docker compose logs <service_name>
2. Ki·ªÉm tra README.md trong project
3. Ki·ªÉm tra c√°c file documentation trong th∆∞ m·ª•c docs/
4. Xem l·∫°i c√°c l·ªói th∆∞·ªùng g·∫∑p ·ªü PH·∫¶N 5

================================================================================
K·∫æT LU·∫¨N
================================================================================

Sau khi ho√†n th√†nh t·∫•t c·∫£ c√°c b∆∞·ªõc tr√™n, b·∫°n s·∫Ω c√≥:
- ‚úÖ T·∫•t c·∫£ services ƒëang ch·∫°y
- ‚úÖ Dataset ƒë√£ ƒë∆∞·ª£c load v√†o MySQL
- ‚úÖ ETL pipeline ƒë√£ ch·∫°y v√† t·∫°o data trong lakehouse
- ‚úÖ C√≥ th·ªÉ truy c·∫≠p t·∫•t c·∫£ c√°c UI (Streamlit, Dagster, Metabase, etc.)
- ‚úÖ Chat Service ho·∫°t ƒë·ªông (n·∫øu c√≥ GOOGLE_API_KEY)

Ch√∫c b·∫°n build th√†nh c√¥ng! üöÄ

================================================================================
END OF DOCUMENT
================================================================================


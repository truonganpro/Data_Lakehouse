# THÃ”NG TIN BÃO CÃO CHÆ¯Æ NG 2 - DATA LAKEHOUSE PROJECT
# Tá»•ng há»£p cÃ¡c file liÃªn quan vÃ  ná»™i dung cho bÃ¡o cÃ¡o

================================================================================
ğŸ“Œ 2.1. MÃ” Táº¢ Táº¬P Dá»® LIá»†U VÃ€ NGUá»’N Gá»C
================================================================================

DATASET: Brazilian E-commerce Public Dataset by Olist

ğŸ“‚ NGUá»’N Dá»® LIá»†U:
   - Kaggle: https://www.kaggle.com/datasets/olistbr/brazilian-ecommerce
   - NhÃ  cung cáº¥p: Olist (Brazilian marketplace)
   - Loáº¡i: ThÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ B2C

ğŸ“Š Äáº¶C ÄIá»‚M DATASET:
   - Thá»i gian: 2016-09-04 â†’ 2018-10-17 (khoáº£ng 2 nÄƒm)
   - KÃ­ch thÆ°á»›c: ~100,000 Ä‘Æ¡n hÃ ng (orders)
   - 32,000 sáº£n pháº©m (products)
   - 9,000 ngÆ°á»i bÃ¡n (sellers)
   - 96,000 khÃ¡ch hÃ ng (customers)
   - 110,000 má»¥c Ä‘Æ¡n hÃ ng (order_items)
   - Tá»•ng dung lÆ°á»£ng: ~40MB (CSV files)

ğŸ“ Cáº¤U TRÃšC DATASET (9 CSV files):
   ğŸ“„ brazilian-ecommerce/
   â”œâ”€â”€ olist_customers_dataset.csv          (customers)
   â”œâ”€â”€ olist_geolocation_dataset.csv        (geolocation)
   â”œâ”€â”€ olist_order_items_dataset.csv        (order_items)
   â”œâ”€â”€ olist_order_payments_dataset.csv     (order_payments)
   â”œâ”€â”€ olist_order_reviews_dataset.csv      (order_reviews)
   â”œâ”€â”€ olist_orders_dataset.csv             (orders)
   â”œâ”€â”€ olist_products_dataset.csv           (products)
   â”œâ”€â”€ olist_sellers_dataset.csv            (sellers)
   â””â”€â”€ product_category_name_translation.csv (product_category_name_translation)

ğŸ“Š MIá»€N Dá»® LIá»†U BAO Gá»’M:
   1. KhÃ¡ch hÃ ng (Customers): ID, thÃ´ng tin Ä‘á»‹a lÃ½ (zip, city, state)
   2. ÄÆ¡n hÃ ng (Orders): ID, tráº¡ng thÃ¡i, thá»i gian (purchase, delivery)
   3. Má»¥c Ä‘Æ¡n hÃ ng (Order Items): chi tiáº¿t SP, giÃ¡, phÃ­ ship, seller
   4. Sáº£n pháº©m (Products): danh má»¥c, thÃ´ng tin ká»¹ thuáº­t (weight, dimensions)
   5. NgÆ°á»i bÃ¡n (Sellers): ID, Ä‘á»‹a lÃ½
   6. Thanh toÃ¡n (Payments): type, installments, giÃ¡ trá»‹
   7. ÄÃ¡nh giÃ¡ (Reviews): Ä‘iá»ƒm, bÃ¬nh luáº­n, timestamp
   8. Äá»‹a lÃ½ (Geolocation): tá»a Ä‘á»™, zip, city, state
   9. Danh má»¥c (Product Category): mapping PTâ†’EN

ğŸ¯ Má»¤C ÄÃCH Sá»¬ Dá»¤NG:
   - PhÃ¢n tÃ­ch xu hÆ°á»›ng bÃ¡n hÃ ng (sales trends)
   - ÄÃ¡nh giÃ¡ hiá»‡u suáº¥t logistics & delivery
   - PhÃ¢n tÃ­ch hÃ nh vi khÃ¡ch hÃ ng
   - Dá»± bÃ¡o nhu cáº§u (demand forecasting)
   - Tá»‘i Æ°u hÃ³a inventory

ğŸ“‹ FILES LIÃŠN QUAN:
   - README.md (dÃ²ng 164-195): Dataset overview
   - load_dataset_into_mysql/01_olist.sql: Schema definition
   - brazilian-ecommerce/*.csv: Raw data files


================================================================================
ğŸ“Œ 2.2. Tá»ª ÄIá»‚N Dá»® LIá»†U (SCHEMA, KHÃ“A, KIá»‚U Dá»® LIá»†U)
================================================================================

ğŸ“Š SCHEMA Gá»C (MySQL - Bronze Layer):
   File: load_dataset_into_mysql/01_olist.sql

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. CUSTOMERS
   Primary Key: customer_id (VARCHAR(50))
   Attributes:
      - customer_unique_id VARCHAR(50)     # Unique customer identifier
      - customer_zip_code_prefix INT       # Brazilian zip code prefix
      - customer_city VARCHAR(50)
      - customer_state VARCHAR(50)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

2. ORDERS
   Primary Key: order_id (VARCHAR(50))
   Foreign Keys: customer_id â†’ customers.customer_id
   Attributes:
      - customer_id VARCHAR(50)
      - order_status VARCHAR(50)           # delivered, shipped, canceled, etc.
      - order_purchase_timestamp DATETIME
      - order_approved_at DATETIME
      - order_delivered_carrier_date DATETIME
      - order_delivered_customer_date DATETIME
      - order_estimated_delivery_date DATETIME

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

3. ORDER_ITEMS
   Primary Key: (order_id, order_item_id)
   Foreign Keys: 
      - order_id â†’ orders.order_id
      - product_id â†’ products.product_id
      - seller_id â†’ sellers.seller_id
   Attributes:
      - order_id VARCHAR(50)
      - order_item_id INT
      - product_id VARCHAR(50)
      - seller_id VARCHAR(50)
      - shipping_limit_date DATETIME
      - price FLOAT                       # Item price
      - freight_value FLOAT              # Shipping cost

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

4. PRODUCTS
   Primary Key: product_id (VARCHAR(50))
   Foreign Keys: product_category_name â†’ product_category_name_translation.product_category_name
   Attributes:
      - product_id VARCHAR(50)
      - product_category_name VARCHAR(100)
      - product_name_lenght INT           # Note: typo in dataset
      - product_description_lenght INT    # Note: typo in dataset
      - product_photos_qty INT
      - product_weight_g INT
      - product_length_cm INT
      - product_height_cm INT
      - product_width_cm INT

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

5. SELLERS
   Primary Key: seller_id (VARCHAR(50))
   Attributes:
      - seller_id VARCHAR(50)
      - seller_zip_code_prefix INT
      - seller_city VARCHAR(50)
      - seller_state VARCHAR(50)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

6. ORDER_PAYMENTS
   Primary Key: (order_id, payment_sequential)
   Foreign Keys: order_id â†’ orders.order_id
   Attributes:
      - order_id VARCHAR(50)
      - payment_sequential INT            # Sequence for multiple payments
      - payment_type VARCHAR(50)          # credit_card, debit_card, boleto, etc.
      - payment_installments INT          # Number of installments
      - payment_value FLOAT              # Payment amount

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

7. ORDER_REVIEWS
   Primary Key: review_id (VARCHAR(50))
   Foreign Keys: order_id â†’ orders.order_id
   Attributes:
      - review_id VARCHAR(50)
      - order_id VARCHAR(50)
      - review_score INT                  # 1-5 rating
      - review_comment_title TEXT
      - review_comment_message TEXT
      - review_creation_date DATETIME
      - review_answer_timestamp DATETIME

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

8. GEOLOCATION
   Primary Key: geolocation_zip_code_prefix (INT)
   Attributes:
      - geolocation_zip_code_prefix INT
      - geolocation_lat FLOAT            # Latitude
      - geolocation_lng FLOAT            # Longitude
      - geolocation_city VARCHAR(50)
      - geolocation_state VARCHAR(50)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

9. PRODUCT_CATEGORY_NAME_TRANSLATION
   Primary Key: product_category_name (VARCHAR(100))
   Attributes:
      - product_category_name VARCHAR(100)      # Portuguese
      - product_category_name_english VARCHAR(100)  # English translation

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š KIáº¾N TRÃšC Dá»® LIá»†U ÄÆ¯á»¢C Tá»” CHá»¨C THEO MEDALLION:

BRONZE LAYER (Raw Data):
   - 9 báº£ng, dá»¯ liá»‡u gá»‘c tá»« MySQL
   - Äá»‹nh dáº¡ng: Delta Lake
   - Vá»‹ trÃ­: s3a://lakehouse/bronze/

SILVER LAYER (Cleaned Data):
   - 10 báº£ng (9 báº£ng gá»‘c + silver_date + forecast_features)
   - Quy trÃ¬nh: dropDuplicates(), na.drop(), type casting
   - File: etl_pipeline/etl_pipeline/assets/silver.py

GOLD LAYER (Star Schema):
   DIMENSIONS:
   - dim_customer
   - dim_seller
   - dim_product
   - dim_product_category
   - dim_date
   - dim_geolocation
   
   FACTS:
   - fact_order_item
   - fact_order
   - fact_review
   - fact_payment
   
   File: etl_pipeline/etl_pipeline/assets/gold.py

PLATINUM LAYER (Business Datamarts):
   - dm_sales_monthly_category
   - dm_seller_kpi
   - dm_customer_lifecycle
   - dm_payment_mix
   - dm_logistics_sla
   - demand_forecast (ML)
   
   File: etl_pipeline/etl_pipeline/assets/platinum.py

ğŸ“‹ FILES LIÃŠN QUAN:
   - load_dataset_into_mysql/01_olist.sql: Full schema
   - etl_pipeline/etl_pipeline/assets/bronze.py: Bronze definitions
   - etl_pipeline/etl_pipeline/assets/silver.py: Silver transformations
   - etl_pipeline/etl_pipeline/assets/gold.py: Gold star schema
   - etl_pipeline/etl_pipeline/assets/platinum.py: Platinum datamarts
   - README.md (dÃ²ng 183-195): Schema overview
   - PROJECT_OVERVIEW.md: Architecture details


================================================================================
ğŸ“Œ 2.3. TIá»€N Xá»¬ LÃ & CHáº¤T LÆ¯á»¢NG Dá»® LIá»†U
================================================================================

ğŸ”§ CÃC BÆ¯á»šC TIá»€N Xá»¬ LÃ ÄÆ¯á»¢C ÃP Dá»¤NG:

FILE: etl_pipeline/etl_pipeline/assets/silver.py

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. SILVER_CUSTOMER:
   - dropDuplicates(["customer_id"])
   - filter(F.col("customer_id").isNotNull())
   â†’ Loáº¡i bá»: duplicate, NULL customer_id

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

2. SILVER_SELLER:
   - dropDuplicates(["seller_id"])
   - na.fill("")
   â†’ Loáº¡i bá»: duplicate
   â†’ Äiá»n: NULL â†’ empty string

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

3. SILVER_PRODUCT:
   - dropDuplicates()
   - na.drop()
   - Fix typo: "product_name_lenght" â†’ "product_name_length"
   - Fix typo: "product_description_lenght" â†’ "product_description_length"
   - Cast: product_length_cm, height_cm, width_cm â†’ INT
   â†’ Loáº¡i bá»: duplicate, NULL, outliers
   â†’ Chuáº©n hÃ³a: tÃªn cá»™t, kiá»ƒu dá»¯ liá»‡u

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

4. SILVER_ORDER:
   - dropDuplicates(["order_id"])
   - na.drop()
   - Cast: order_purchase_timestamp â†’ TIMESTAMP
   â†’ Loáº¡i bá»: duplicate, NULL

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

5. SILVER_ORDER_ITEM:
   - dropDuplicates()
   - na.drop()
   - Round: price, freight_value â†’ 2 decimals
   - Cast: price, freight_value â†’ DOUBLE
   â†’ Loáº¡i bá»: duplicate, NULL
   â†’ Chuáº©n hÃ³a: giÃ¡ trá»‹ sá»‘ (precision)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

6. SILVER_PAYMENT:
   - dropDuplicates()
   - na.drop()
   - Round: payment_value â†’ 2 decimals
   - Cast: payment_value â†’ DOUBLE, payment_installments â†’ INT
   â†’ Loáº¡i bá»: duplicate, NULL

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

7. SILVER_ORDER_REVIEW:
   - dropDuplicates()
   - na.drop()
   - drop("review_comment_title")
   â†’ Loáº¡i bá»: duplicate, NULL, cá»™t khÃ´ng cáº§n

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

8. SILVER_PRODUCT_CATEGORY:
   - dropDuplicates()
   - na.drop()
   â†’ Loáº¡i bá»: duplicate, NULL

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

9. SILVER_DATE:
   - Generate: full_date tá»« order_purchase_timestamp
   - Extract: year, month, day, day_of_week, quarter
   â†’ Táº¡o báº£ng date dimension

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸŒ MAPPING CATEGORY_english (Portuguese â†’ English):
   - File: product_category_name_translation.csv
   - Báº£ng: product_category_name_translation
   - Sá»­ dá»¥ng trong:
      * dim_product_category (GOLD layer)
      * dm_sales_monthly_category (PLATINUM layer)
   - Káº¿t quáº£: category names chuáº©n hÃ³a sang tiáº¿ng Anh

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š CHáº¤T LÆ¯á»¢NG Dá»® LIá»†U:

ÄÆ¯á»¢C PHÃT HIá»†N VÃ€ Xá»¬ LÃ:
   âœ… Duplicate records â†’ dropDuplicates()
   âœ… NULL values â†’ na.drop(), na.fill()
   âœ… Type inconsistencies â†’ Cast vá» Ä‘Ãºng kiá»ƒu
   âœ… Column typos â†’ Rename chuáº©n hÃ³a
   âœ… Precision issues â†’ Round 2 decimals

VáºªN Tá»’N Táº I (Acceptable):
   â„¹ï¸ Má»™t sá»‘ product_category_name = NULL
   â„¹ï¸ Má»™t sá»‘ Ä‘Æ¡n hÃ ng khÃ´ng cÃ³ delivery date
   â„¹ï¸ Má»™t sá»‘ reviews khÃ´ng cÃ³ comment

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ FILES LIÃŠN QUAN:
   - etl_pipeline/etl_pipeline/assets/silver.py (dÃ²ng 1-180): Cleaning logic
   - product_category_name_translation.csv: Category mapping
   - README.md (dÃ²ng 198-250): Data layers overview


================================================================================
ğŸ“Œ 2.4. YÃŠU Cáº¦U PHÃ‚N TÃCH VÃ€ Ká»ŠCH Báº¢N NGHIá»†P Vá»¤ Má»¤C TIÃŠU
================================================================================

ğŸ¯ CÃC USE CASES CHÃNH Cá»¦A PROJECT:

FILE: README.md (dÃ²ng 28-38) + PROJECT_OVERVIEW.md (dÃ²ng 13-21)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. PHÃ‚N TÃCH DOANH THU (Revenue Analysis):
   Má»¥c tiÃªu: Theo dÃµi xu hÆ°á»›ng doanh thu theo thá»i gian, danh má»¥c, vÃ¹ng
   
   KPI cáº§n Ä‘o:
   - GMV (Gross Merchandise Value)
   - Revenue by category
   - AOV (Average Order Value)
   - Growth rate month-over-month
   
   Datamart: platinum.dm_sales_monthly_category
   Dashboard: Metabase - Monthly Revenue Trend

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

2. Dá»° BÃO NHU Cáº¦U (Demand Forecasting):
   Má»¥c tiÃªu: Dá»± Ä‘oÃ¡n nhu cáº§u sáº£n pháº©m 28 ngÃ y tá»›i
   
   CÃ´ng nghá»‡:
   - LightGBM (tree-based ML model)
   - Time series features (lag, MA, seasonality)
   - MLflow (experiment tracking)
   
   Output: platinum.demand_forecast
   File: etl_pipeline/etl_pipeline/ml/feature_build.py
   
   Use cases:
   - Inventory planning
   - Procurement optimization
   - Stockout prevention

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

3. PHÃ‚N TÃCH KHÃCH HÃ€NG (Customer Analytics):
   Má»¥c tiÃªu: Hiá»ƒu hÃ nh vi, lifecycle, value cá»§a khÃ¡ch hÃ ng
   
   PhÃ¢n tÃ­ch:
   - Cohort analysis (first purchase date)
   - Customer LTV (Lifetime Value)
   - Churn detection
   - Customer segmentation
   
   Datamart: platinum.dm_customer_lifecycle
   BI Tool: Metabase dashboard

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

4. PHÃ‚N TÃCH THANH TOÃN (Payment Mix Analysis):
   Má»¥c tiÃªu: ÄÃ¡nh giÃ¡ phÆ°Æ¡ng thá»©c thanh toÃ¡n phá»• biáº¿n
   
   Metrics:
   - Payment type distribution
   - Installments usage
   - Payment trends over time
   
   Datamart: platinum.dm_payment_mix
   Insight: credit_card lÃ  phÆ°Æ¡ng thá»©c chÃ­nh

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

5. LOGISTICS & SLA (Supply Chain Analytics):
   Má»¥c tiÃªu: Tá»‘i Æ°u hÃ³a delivery, giáº£m delays
   
   KPIs:
   - On-time delivery rate
   - Average delivery days
   - Late orders count
   - Regional performance
   
   Datamart: platinum.dm_logistics_sla
   Action: Identify bottlenecks, optimize routes

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

6. SELLER PERFORMANCE:
   Má»¥c tiÃªu: ÄÃ¡nh giÃ¡ hiá»‡u suáº¥t ngÆ°á»i bÃ¡n
   
   Metrics:
   - GMV per seller
   - Order count
   - Review score
   - On-time delivery rate
   - Cancel rate
   
   Datamart: platinum.dm_seller_kpi
   Use: Seller ranking, commission calculation

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ­ NGÆ¯á»œI DÃ™NG & TRÆ¯á»œNG Há»¢P Sá»¬ Dá»¤NG:

1. BUSINESS ANALYST:
   - Dashboard Metabase: Explore trends, drill-down
   - Query Window (Streamlit): Ad-hoc analysis
   - Export CSV/Excel cho bÃ¡o cÃ¡o

2. DATA SCIENTIST:
   - Jupyter notebooks: Feature engineering
   - MLflow: Model experiments
   - Forecast pipeline: Deploy models

3. BUSINESS MANAGER:
   - Chat Interface: Ask questions in natural language
   - "Doanh thu thÃ¡ng 3 nÄƒm 2018?"
   - "Top 10 sáº£n pháº©m bÃ¡n cháº¡y?"
   - "PhÆ°Æ¡ng thá»©c thanh toÃ¡n nÃ o phá»• biáº¿n?"

4. DATA ENGINEER:
   - Dagster UI: Monitor ETL pipeline
   - Spark UI: Debug jobs
   - MinIO Console: Manage storage

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š GIAO DIá»†N PHÃ‚N TÃCH ÄÆ¯á»¢C CUNG Cáº¤P:

1. STREAMLIT - Query Window (OLAP):
   URL: http://localhost:8501
   Features:
   - Time grain: day/week/month/quarter/year
   - Dimensions: product, customer, region, seller
   - Measures: revenue, orders, units, AOV
   - ROLLUP/GROUPING SETS
   - Export CSV/Excel
   
   File: app/pages/1_ğŸ“Š_Query_Window.py

2. METABASE - BI Dashboard:
   URL: http://localhost:3000
   Features:
   - Visual query builder
   - Pre-built dashboards
   - Scheduled reports
   - Email alerts
   
   Dashboards:
   - Monthly Revenue Trend
   - Top Categories
   - Payment Mix
   - Logistics SLA
   - Customer Lifecycle

3. CHAT INTERFACE - Natural Language Query:
   URL: http://localhost:8501/ğŸ’¬_Chat
   Tech: Gemini AI, RAG, SQL generation
   
   Example queries:
   - "Doanh thu thÃ¡ng 3 nÄƒm 2018"
   - "Top 10 sáº£n pháº©m bÃ¡n cháº¡y nháº¥t"
   - "PhÆ°Æ¡ng thá»©c thanh toÃ¡n nÃ o phá»• biáº¿n nháº¥t"
   
   File: app/pages/2_ğŸ’¬_Chat.py, chat_service/main.py

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ FILES LIÃŠN QUAN:
   - README.md (dÃ²ng 28-38): Project goals
   - PROJECT_OVERVIEW.md (dÃ²ng 13-21, 75-254): Features & use cases
   - app/pages/1_ğŸ“Š_Query_Window.py: OLAP interface
   - app/pages/2_ğŸ’¬_Chat.py: Chat interface
   - etl_pipeline/etl_pipeline/assets/platinum.py: Datamarts
   - metabase_queries.sql: Sample BI queries
   - VISUALIZATION_RESULTS.md: Analysis results


================================================================================
ğŸ“Œ 2.5. TIá»‚U Káº¾T CHÆ¯Æ NG
================================================================================

ğŸ“ ÄIá»‚M CHÃNH Cáº¦N TÃ“M Táº®T:

âœ… DATASET:
   - Brazilian E-commerce: 100K orders, 2016-2018
   - 9 tables: customers, orders, products, sellers, payments, reviews, etc.
   - Source: Kaggle Olist dataset

âœ… SCHEMA:
   - Bronze â†’ Silver â†’ Gold â†’ Platinum (Medallion architecture)
   - Star schema: 6 dimensions + 4 facts (Gold layer)
   - 7 business datamarts (Platinum layer)

âœ… DATA QUALITY:
   - Cleaned: duplicates, NULLs, type casting
   - Fixed: column typos (lenght â†’ length)
   - Mapped: category Portuguese â†’ English

âœ… USE CASES:
   - Revenue analysis & forecasting
   - Customer lifecycle & LTV
   - Logistics SLA optimization
   - Payment mix analysis
   - Seller performance ranking

âœ… INTERFACES:
   - Streamlit (Query Window) - OLAP analysis
   - Metabase - BI dashboards
   - Chat Interface - Natural language queries

ğŸ“Š KIáº¾N TRÃšC:
   Modern Data Stack vá»›i containerized deployment
   - Storage: Delta Lake trÃªn MinIO
   - Compute: Apache Spark
   - Query: Trino
   - ML: LightGBM + MLflow
   - Orchestration: Dagster

ğŸ¯ Káº¾T QUáº¢:
   Data Lakehouse production-ready vá»›i:
   - ETL pipeline tá»± Ä‘á»™ng
   - ML forecasting 28-day horizon
   - OLAP query interface
   - AI-powered chat
   - BI dashboards


================================================================================
ğŸ“ DANH SÃCH FILE Cáº¦N Äá»ŒC Äá»‚ VIáº¾T BÃO CÃO
================================================================================

MUST READ:
   1. README.md (dÃ²ng 28-195)
   2. PROJECT_OVERVIEW.md (toÃ n bá»™)
   3. load_dataset_into_mysql/01_olist.sql (full schema)
   4. etl_pipeline/etl_pipeline/assets/silver.py (cleaning logic)
   5. etl_pipeline/etl_pipeline/assets/gold.py (star schema)
   6. etl_pipeline/etl_pipeline/assets/platinum.py (datamarts)

NICE TO HAVE:
   7. VISUALIZATION_RESULTS.md (analysis results)
   8. app/pages/1_ğŸ“Š_Query_Window.py (OLAP interface)
   9. app/pages/2_ğŸ’¬_Chat.py (Chat interface)
   10. metabase_queries.sql (sample BI queries)

================================================================================
EOF


